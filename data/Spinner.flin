// FlinUI Spinner Component
// Loading spinner with size and color options

// Props with defaults
size = props.size || "md"
color = props.color || "primary"

// Compute size values
spinnerSize = match size {
    "sm" -> "var(--flin-size-4)"
    "md" -> "var(--flin-size-6)"
    "lg" -> "var(--flin-size-8)"
    "xl" -> "var(--flin-size-12)"
    _ -> "var(--flin-size-6)"
}

borderWidth = match size {
    "sm" -> "var(--flin-space-0-5)"
    "md" -> "var(--flin-space-1)"
    "lg" -> "var(--flin-space-1)"
    "xl" -> "var(--flin-space-1-5)"
    _ -> "var(--flin-space-1)"
}

// Compute color
spinnerColor = match color {
    "primary" -> "var(--flin-primary)"
    "secondary" -> "var(--flin-secondary)"
    "success" -> "var(--flin-success)"
    "warning" -> "var(--flin-warning)"
    "danger" -> "var(--flin-danger)"
    "info" -> "var(--flin-info)"
    "white" -> "var(--flin-bg)"
    "current" -> "currentColor"
    _ -> "var(--flin-primary)"
}

<div class="flin-spinner"
     role="status"
     aria-label="Loading"
     style="--spinner-size: {spinnerSize}; --spinner-border: {borderWidth}; --spinner-color: {spinnerColor};">
    <span class="flin-spinner__sr-only">Loading...</span>
</div>

<style scoped>
.flin-spinner {
    display: inline-block;
    width: var(--spinner-size);
    height: var(--spinner-size);
    border: var(--spinner-border) solid var(--flin-neutral-200);
    border-top-color: var(--spinner-color);
    border-radius: var(--flin-radius-full);
    animation: flin-spin 0.8s linear infinite;
}

.flin-spinner__sr-only {
    position: absolute;
    width: var(--flin-space-px);
    height: var(--flin-space-px);
    padding: var(--flin-space-0);
    margin: calc(-1 * var(--flin-space-px));
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

@keyframes flin-spin {
    to {
        transform: rotate(360deg);
    }
}

/* Dark theme support */
[data-theme="dark"] .flin-spinner {
    border-color: var(--flin-neutral-700);
    border-top-color: var(--spinner-color);
}
</style>
